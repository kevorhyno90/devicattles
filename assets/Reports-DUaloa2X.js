import{r as N,j as e}from"./index-B8Dyeey_.js";import{P as k,A as F,H as I,T as b,F as X,a as V}from"./index-CMzQl4t4.js";import{f as C}from"./currency-EbIO-V_7.js";import{e as q,a as _,b as Q,c as Z,d as K}from"./pdfExport-Cg8yd2HW.js";import"./enhancedSettings-Cd0HS9If.js";function O(n){try{const g=JSON.parse(localStorage.getItem("devinsfarm:measurements")||"[]"),h=JSON.parse(localStorage.getItem("devinsfarm:feeding")||"[]"),m=n.map(o=>{const a=g.filter(s=>s.animalId===o.id).sort((s,S)=>new Date(s.date)-new Date(S.date));if(a.length<2)return{animalId:o.id,animalName:o.name,fer:null,message:"Insufficient data"};const y=parseFloat(a[0].weight)||0,d=parseFloat(a[a.length-1].weight)||0,v=d-y,x=h.filter(s=>s.animalId===o.id||s.animals&&s.animals.includes(o.id)).reduce((s,S)=>s+(parseFloat(S.totalAmount)||0),0);if(x===0)return{animalId:o.id,animalName:o.name,fer:null,message:"No feeding data"};const u=v/x;return{animalId:o.id,animalName:o.name,fer:u,weightGain:v,feedConsumed:x,efficiency:u>.15?"Excellent":u>.1?"Good":u>.05?"Average":"Poor",startWeight:y,endWeight:d,days:Math.ceil((new Date(a[a.length-1].date)-new Date(a[0].date))/(1e3*60*60*24))}}).filter(o=>o.fer!==null),r=m.length>0?m.reduce((o,a)=>o+a.fer,0)/m.length:0;return{results:m,averageFER:r,totalAnimals:n.length,analyzedAnimals:m.length}}catch(g){return console.error("Error calculating feed efficiency:",g),{results:[],averageFER:0,totalAnimals:0,analyzedAnimals:0}}}function $(n){try{const g=JSON.parse(localStorage.getItem("devinsfarm:transactions")||"[]"),h=JSON.parse(localStorage.getItem("devinsfarm:feeding")||"[]"),m=JSON.parse(localStorage.getItem("devinsfarm:treatments")||"[]"),r=JSON.parse(localStorage.getItem("devinsfarm:milkYield")||"[]"),o=n.map(p=>{const x=parseFloat(p.purchasePrice)||0,u=h.filter(j=>j.animalId===p.id||j.animals&&j.animals.includes(p.id)).reduce((j,R)=>j+(parseFloat(R.totalCost)||0),0),s=m.filter(j=>j.animalId===p.id).reduce((j,R)=>j+(parseFloat(R.cost)||0),0),S=x+u+s;let w=0;const i=r.filter(j=>j.animalId===p.id).reduce((j,R)=>{const W=parseFloat(R.quantity)||0,z=parseFloat(R.pricePerUnit)||0;return j+W*z},0);w+=i;const l=g.find(j=>j.type==="income"&&j.category==="Livestock Sale"&&j.description&&j.description.includes(p.name));l&&(w+=parseFloat(l.amount)||0);const c=w-S,f=S>0?c/S*100:0;return{animalId:p.id,animalName:p.name,animalType:p.type,costs:{purchase:x,feed:u,treatment:s,total:S},revenue:{milk:i,sale:l?parseFloat(l.amount):0,total:w},profit:c,roi:f,status:p.status,profitability:f>50?"Highly Profitable":f>20?"Profitable":f>0?"Break Even":"Loss"}}),a=o.reduce((p,x)=>p+x.costs.total,0),y=o.reduce((p,x)=>p+x.revenue.total,0),d=y-a,v=o.reduce((p,x)=>p+x.roi,0)/o.length;return{results:o,summary:{totalCosts:a,totalRevenue:y,totalProfit:d,averageROI:v,profitableAnimals:o.filter(p=>p.roi>0).length,totalAnimals:n.length}}}catch(g){return console.error("Error calculating ROI:",g),{results:[],summary:{}}}}function ee(n="month"){try{const g=JSON.parse(localStorage.getItem("devinsfarm:transactions")||"[]"),h=JSON.parse(localStorage.getItem("devinsfarm:milkYield")||"[]"),m=JSON.parse(localStorage.getItem("devinsfarm:feeding")||"[]"),r=new Date,o=[],a=n==="month"?6:4;for(let y=a-1;y>=0;y--){const d=new Date(r),v=new Date(r);if(n==="month")d.setMonth(r.getMonth()-y),d.setDate(1),d.setHours(0,0,0,0),v.setMonth(r.getMonth()-y+1),v.setDate(0),v.setHours(23,59,59,999);else{const l=Math.floor((r.getMonth()-y*3)/3)*3;d.setMonth(l),d.setDate(1),d.setHours(0,0,0,0),v.setMonth(l+3),v.setDate(0),v.setHours(23,59,59,999)}const p=g.filter(l=>{const c=new Date(l.date);return c>=d&&c<=v}),x=h.filter(l=>{const c=new Date(l.date);return c>=d&&c<=v}),u=m.filter(l=>{const c=new Date(l.date);return c>=d&&c<=v}),s=p.filter(l=>l.type==="income").reduce((l,c)=>l+(parseFloat(c.amount)||0),0),S=p.filter(l=>l.type==="expense").reduce((l,c)=>l+(parseFloat(c.amount)||0),0),w=x.reduce((l,c)=>l+(parseFloat(c.quantity)||0),0),t=x.reduce((l,c)=>{const f=parseFloat(c.quantity)||0,j=parseFloat(c.pricePerUnit)||0;return l+f*j},0),i=u.reduce((l,c)=>l+(parseFloat(c.totalCost)||0),0);o.push({period:n==="month"?d.toLocaleString("default",{month:"short",year:"numeric"}):`Q${Math.floor(d.getMonth()/3)+1} ${d.getFullYear()}`,startDate:d.toISOString(),endDate:v.toISOString(),income:s,expenses:S,profit:s-S,milkProduction:w,milkRevenue:t,feedCosts:i,profitMargin:s>0?(s-S)/s*100:0})}return{periods:o,periodType:n,trends:te(o)}}catch(g){return console.error("Error in comparative analysis:",g),{periods:[],periodType:n,trends:{}}}}function te(n){if(n.length<2)return{};const g=n[n.length-1],h=n[n.length-2],m=(r,o)=>o===0?r>0?100:0:(r-o)/o*100;return{incomeChange:m(g.income,h.income),expensesChange:m(g.expenses,h.expenses),profitChange:m(g.profit,h.profit),milkProductionChange:m(g.milkProduction,h.milkProduction),feedCostsChange:m(g.feedCosts,h.feedCosts)}}function ne(n="roi",g=5){try{const h=JSON.parse(localStorage.getItem("devinsfarm:animals")||"[]");if(n==="roi")return $(h).results.sort((r,o)=>o.roi-r.roi).slice(0,g);if(n==="fer")return O(h).results.sort((r,o)=>o.fer-r.fer).slice(0,g);if(n==="milk"){const m=JSON.parse(localStorage.getItem("devinsfarm:milkYield")||"[]"),r={};return m.forEach(o=>{r[o.animalId]||(r[o.animalId]={total:0,records:0}),r[o.animalId].total+=parseFloat(o.quantity)||0,r[o.animalId].records++}),Object.entries(r).map(([o,a])=>{const y=h.find(d=>d.id===parseInt(o));return{animalId:parseInt(o),animalName:y?.name||"Unknown",totalMilk:a.total,averageMilk:a.total/a.records,records:a.records}}).sort((o,a)=>a.totalMilk-o.totalMilk).slice(0,g)}return[]}catch(h){return console.error("Error getting top performers:",h),[]}}function A(n,g="export.json"){try{const h=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),m=URL.createObjectURL(h),r=document.createElement("a");r.href=m,r.download=g,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(m)}catch(h){console.error(h)}}function D(n,g="export.xml"){try{const h=M(n,"root"),m=new Blob([h],{type:"application/xml"}),r=URL.createObjectURL(m),o=document.createElement("a");o.href=r,o.download=g,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(r)}catch(h){console.error(h)}}function M(n,g="data"){let h=`<?xml version="1.0" encoding="UTF-8"?>
`;function m(r,o){if(Array.isArray(r))return r.map((a,y)=>m(a,o.replace(/s$/,"")||"item")).join("");if(typeof r=="object"&&r!==null){let a="";for(let y in r)a+=m(r[y],y);return`<${o}>${a}</${o}>`}else{const a=r==null?"":String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return`<${o}>${a}</${o}>`}}return h+m(n,g)}async function T(n,g="export.docx",h="Report",m="data"){try{const r=[],o=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});if(r.push(new k({text:"JR FARM",heading:I.HEADING_1,alignment:F.CENTER,spacing:{after:100}})),r.push(new k({text:h,alignment:F.CENTER,spacing:{after:50}})),r.push(new k({text:`Date: ${o}`,alignment:F.CENTER,spacing:{after:50}})),r.push(new k({children:[new b({text:"Made by Dr. Devin Omwenga",italics:!0,color:"666666"})],alignment:F.RIGHT,spacing:{after:300}})),Array.isArray(n)&&n.length>0){if(r.push(new k({text:"Summary",heading:I.HEADING_2,spacing:{before:200,after:100}})),r.push(new k({text:`Total Records: ${n.length}`,spacing:{after:200}})),m==="finance"){const p=n.filter(s=>s.type==="income"||s.amount>0).reduce((s,S)=>s+Math.abs(S.amount||0),0),x=n.filter(s=>s.type==="expense"||s.amount<0).reduce((s,S)=>s+Math.abs(S.amount||0),0),u=p-x;r.push(new k({children:[new b({text:"Total Income: ",bold:!0}),new b({text:`$${p.toFixed(2)}`})],spacing:{after:100}})),r.push(new k({children:[new b({text:"Total Expenses: ",bold:!0}),new b({text:`$${x.toFixed(2)}`})],spacing:{after:100}})),r.push(new k({children:[new b({text:"Net Balance: ",bold:!0}),new b({text:`$${u.toFixed(2)}`,color:u>=0?"059669":"dc2626"})],spacing:{after:300}}))}else if(m==="animals"){const p=n.filter(u=>u.status==="Active").length,x=[...new Set(n.map(u=>u.breed))].filter(Boolean);r.push(new k({children:[new b({text:"Active Animals: ",bold:!0}),new b({text:`${p}`})],spacing:{after:100}})),r.push(new k({children:[new b({text:"Breeds: ",bold:!0}),new b({text:x.join(", ")})],spacing:{after:300}}))}else if(m==="crops"){const p=n.reduce((u,s)=>u+(s.area||0),0),x=n.filter(u=>["Planted","Growing","Flowering","Filling"].includes(u.status)).length;r.push(new k({children:[new b({text:"Total Area: ",bold:!0}),new b({text:`${p.toFixed(1)} acres`})],spacing:{after:100}})),r.push(new k({children:[new b({text:"Active Crops: ",bold:!0}),new b({text:`${x}`})],spacing:{after:300}}))}else if(m==="tasks"){const p=n.filter(s=>s.done).length,x=n.filter(s=>!s.done).length,u=n.filter(s=>!s.done&&(s.priority==="High"||s.priority==="Critical")).length;r.push(new k({children:[new b({text:"Completed Tasks: ",bold:!0}),new b({text:`${p}`})],spacing:{after:100}})),r.push(new k({children:[new b({text:"Pending Tasks: ",bold:!0}),new b({text:`${x}`})],spacing:{after:100}})),r.push(new k({children:[new b({text:"High Priority Pending: ",bold:!0}),new b({text:`${u}`})],spacing:{after:300}}))}}r.push(new k({text:"Detailed Records",heading:I.HEADING_2,spacing:{before:300,after:200}})),Array.isArray(n)?n.forEach((p,x)=>{r.push(new k({text:`Record ${x+1}`,heading:I.HEADING_3,spacing:{before:200,after:100}})),Object.entries(p).forEach(([u,s])=>{(typeof s!="object"||s===null)&&r.push(new k({children:[new b({text:`${u}: `,bold:!0}),new b({text:String(s||"")})],spacing:{after:80}}))})}):Object.entries(n).forEach(([p,x])=>{const u=typeof x=="object"?JSON.stringify(x):String(x);r.push(new k({children:[new b({text:`${p}: `,bold:!0}),new b({text:u})],spacing:{after:100}}))});const a=new X({sections:[{properties:{},children:r}]}),y=await V.toBlob(a),d=URL.createObjectURL(y),v=document.createElement("a");v.href=d,v.download=g,document.body.appendChild(v),v.click(),v.remove(),URL.revokeObjectURL(d)}catch(r){console.error(r),alert("Error generating DOCX: "+r.message)}}function de(){const[n,g]=N.useState("animals"),[h,m]=N.useState([]),[r,o]=N.useState(""),[a,y]=N.useState(null),[d,v]=N.useState(""),[p,x]=N.useState("json");N.useEffect(()=>{try{const t=JSON.parse(localStorage.getItem("cattalytics:animals")||"[]"),i=JSON.parse(localStorage.getItem("cattalytics:tasks")||"[]"),l=JSON.parse(localStorage.getItem("cattalytics:finance")||"[]"),c=JSON.parse(localStorage.getItem("cattalytics:crops:v2")||"[]"),f=JSON.parse(localStorage.getItem("devinsfarm:resources")||"[]"),j=JSON.parse(localStorage.getItem("cattalytics:schedules")||"[]"),R=JSON.parse(localStorage.getItem("cattalytics:groups")||"[]"),W=JSON.parse(localStorage.getItem("cattalytics:pastures")||"[]"),z=JSON.parse(localStorage.getItem("cattalytics:health:patients")||"[]"),P=JSON.parse(localStorage.getItem("cattalytics:feeding")||"[]"),B=JSON.parse(localStorage.getItem("cattalytics:measurements")||"[]"),E=JSON.parse(localStorage.getItem("cattalytics:animal:breeding")||"[]"),J=JSON.parse(localStorage.getItem("cattalytics:milk-yield")||"[]"),L=JSON.parse(localStorage.getItem("cattalytics:treatments")||"[]"),H=JSON.parse(localStorage.getItem("cattalytics:semen:inventory")||"[]"),G=JSON.parse(localStorage.getItem("cattalytics:inventory")||"[]"),U=JSON.parse(localStorage.getItem("cattalytics:poultry")||"[]"),Y=JSON.parse(localStorage.getItem("cattalytics:flocks")||"[]");m({animals:t,tasks:i,finance:l,crops:c,resources:f,schedules:j,groups:R,pastures:W,health:z,feeding:P,measurements:B,breeding:E,milkYield:J,treatments:L,semen:H,inventory:G,poultry:U,flocks:Y})}catch{m({animals:[],tasks:[],finance:[],crops:[],resources:[],schedules:[],groups:[],pastures:[],health:[],feeding:[],measurements:[],breeding:[],milkYield:[],treatments:[],semen:[],inventory:[],poultry:[],flocks:[]})}},[]);function u(){const t=h||{};return n==="animals"?(t.animals||[]).map(i=>({id:i.id||i.tag||i.name,data:i,type:"animal"})):n==="tasks"?(t.tasks||[]).map(i=>({id:i.id||i.title||Math.random().toString(36).slice(2,8),data:i,type:"task"})):n==="finance"?(t.finance||[]).map(i=>({id:i.id||Math.random().toString(36).slice(2,8),data:i,type:"finance"})):n==="crops"?(t.crops||[]).map(i=>({id:i.id||i.name||Math.random().toString(36).slice(2,8),data:i,type:"crop"})):n==="resources"?(t.resources||[]).map(i=>({id:i.id||i.name||Math.random().toString(36).slice(2,8),data:i,type:"resource"})):n==="schedules"?(t.schedules||[]).map(i=>({id:i.id||i.title||Math.random().toString(36).slice(2,8),data:i,type:"schedule"})):n==="groups"?(t.groups||[]).map(i=>({id:i.id||i.name||Math.random().toString(36).slice(2,8),data:i,type:"group"})):n==="pastures"?(t.pastures||[]).map(i=>({id:i.id||i.name||Math.random().toString(36).slice(2,8),data:i,type:"pasture"})):n==="health"?(t.health||[]).map(i=>({id:i.id||i.name||Math.random().toString(36).slice(2,8),data:i,type:"health"})):n==="feeding"?(t.feeding||[]).map(i=>({id:i.id||Math.random().toString(36).slice(2,8),data:i,type:"feeding"})):n==="measurements"?(t.measurements||[]).map(i=>({id:i.id||Math.random().toString(36).slice(2,8),data:i,type:"measurement"})):n==="breeding"?(t.breeding||[]).map(i=>({id:i.id||Math.random().toString(36).slice(2,8),data:i,type:"breeding"})):n==="milkYield"?(t.milkYield||[]).map(i=>({id:i.id||Math.random().toString(36).slice(2,8),data:i,type:"milkYield"})):n==="treatments"?(t.treatments||[]).map(i=>({id:i.id||Math.random().toString(36).slice(2,8),data:i,type:"treatment"})):n==="semen"?(t.semen||[]).map(i=>({id:i.id||Math.random().toString(36).slice(2,8),data:i,type:"semen"})):n==="inventory"?(t.inventory||[]).map(i=>({id:i.id||Math.random().toString(36).slice(2,8),data:i,type:"inventory"})):n==="poultry"?(t.poultry||[]).map(i=>({id:i.id||Math.random().toString(36).slice(2,8),data:i,type:"poultry"})):n==="flocks"?(t.flocks||[]).map(i=>({id:i.id||Math.random().toString(36).slice(2,8),data:i,type:"flock"})):[]}const s=u(),w=(()=>{const t=h||{},i={count:s.length};if(n==="finance"){const l=(t.finance||[]).filter(f=>f.type==="income"||f.amount>0).reduce((f,j)=>f+Math.abs(j.amount||0),0),c=(t.finance||[]).filter(f=>f.type==="expense"||f.amount<0).reduce((f,j)=>f+Math.abs(j.amount||0),0);i.income=l,i.expenses=c,i.balance=l-c}else n==="animals"?(i.active=(t.animals||[]).filter(l=>l.status==="Active").length,i.breeds=[...new Set((t.animals||[]).map(l=>l.breed))].filter(Boolean).length):n==="crops"?(i.totalArea=(t.crops||[]).reduce((l,c)=>l+(c.area||0),0),i.activeGrowing=(t.crops||[]).filter(l=>["Planted","Growing","Flowering","Filling"].includes(l.status)).length):n==="tasks"&&(i.completed=(t.tasks||[]).filter(l=>l.done).length,i.pending=(t.tasks||[]).filter(l=>!l.done).length,i.highPriority=(t.tasks||[]).filter(l=>!l.done&&(l.priority==="High"||l.priority==="Critical")).length);return i})();return e.jsxs("div",{children:[e.jsxs("div",{className:"health-header",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"health-title",children:"Reports"}),e.jsx("div",{className:"muted",children:"Central report hub â€” export and preview datasets"})]}),e.jsxs("div",{className:"health-toolbar",style:{display:"flex",gap:"12px",alignItems:"center"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[e.jsx("strong",{children:"Report Module:"}),e.jsxs("select",{value:n,onChange:t=>g(t.target.value),style:{padding:"8px 12px",fontSize:"14px",minWidth:"200px"},children:[e.jsxs("optgroup",{label:"Livestock",children:[e.jsx("option",{value:"animals",children:"Animals"}),e.jsx("option",{value:"breeding",children:"Breeding Records"}),e.jsx("option",{value:"semen",children:"Semen Inventory"}),e.jsx("option",{value:"poultry",children:"Poultry"}),e.jsx("option",{value:"flocks",children:"Flocks"}),e.jsx("option",{value:"feeding",children:"Feeding"}),e.jsx("option",{value:"milkYield",children:"Milk Yield"}),e.jsx("option",{value:"treatments",children:"Treatments"}),e.jsx("option",{value:"measurements",children:"Measurements"})]}),e.jsxs("optgroup",{label:"Crops & Land",children:[e.jsx("option",{value:"crops",children:"Crops"}),e.jsx("option",{value:"pastures",children:"Pastures"})]}),e.jsxs("optgroup",{label:"Management",children:[e.jsx("option",{value:"finance",children:"Finance"}),e.jsx("option",{value:"inventory",children:"Inventory"}),e.jsx("option",{value:"tasks",children:"Tasks"}),e.jsx("option",{value:"schedules",children:"Schedules"}),e.jsx("option",{value:"groups",children:"Groups"})]}),e.jsxs("optgroup",{label:"Health & Resources",children:[e.jsx("option",{value:"health",children:"Health System"}),e.jsx("option",{value:"resources",children:"Resources"})]})]})]}),e.jsx("button",{className:`tab-btn ${n==="analytics"?"active":""}`,onClick:()=>g("analytics"),style:{background:"linear-gradient(135deg, var(--accent1), var(--accent2))",color:"#fff",fontWeight:"600"},children:"ðŸ“Š Advanced Analytics"})]})]}),e.jsxs("div",{className:"panel",children:[e.jsxs("div",{className:"card",style:{marginBottom:"20px",padding:"20px",background:"linear-gradient(135deg, #059669 0%, #10b981 100%)",color:"#fff"},children:[e.jsxs("h3",{style:{margin:"0 0 16px 0",color:"#fff"},children:[n.charAt(0).toUpperCase()+n.slice(1)," Summary"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:w.count}),e.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Total Records"})]}),n==="finance"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold"},children:["$",w.income?.toFixed(0)||0]}),e.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Total Income"})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold"},children:["$",w.expenses?.toFixed(0)||0]}),e.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Total Expenses"})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:w.balance>=0?"#d1fae5":"#fecaca"},children:["$",w.balance?.toFixed(0)||0]}),e.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Net Balance"})]})]}),n==="animals"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:w.active||0}),e.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Active Animals"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:w.breeds||0}),e.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Breeds"})]})]}),n==="crops"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:w.totalArea?.toFixed(1)||0}),e.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Total Acres"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:w.activeGrowing||0}),e.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Active Crops"})]})]}),n==="tasks"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:w.completed||0}),e.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Completed"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:w.pending||0}),e.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Pending"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:w.highPriority>0?"#fecaca":"#d1fae5"},children:w.highPriority||0}),e.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"High Priority"})]})]})]})]}),n==="analytics"&&e.jsx(ie,{}),n!=="analytics"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[e.jsxs("select",{value:n,onChange:t=>g(t.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"},children:[e.jsx("option",{value:"animals",children:"Animals"}),e.jsx("option",{value:"crops",children:"Crops"}),e.jsx("option",{value:"pastures",children:"Pastures"}),e.jsx("option",{value:"tasks",children:"Tasks"}),e.jsx("option",{value:"finance",children:"Finance"}),e.jsx("option",{value:"inventory",children:"Inventory"}),e.jsx("option",{value:"resources",children:"Resources"}),e.jsx("option",{value:"schedules",children:"Schedules"}),e.jsx("option",{value:"groups",children:"Groups"}),e.jsx("option",{value:"health",children:"Health Records"}),e.jsx("option",{value:"feeding",children:"Feeding Records"}),e.jsx("option",{value:"measurements",children:"Measurements"}),e.jsx("option",{value:"breeding",children:"Breeding Records"}),e.jsx("option",{value:"milkYield",children:"Milk Yield"}),e.jsx("option",{value:"treatments",children:"Treatments"})]}),e.jsxs("button",{className:"tab-btn",onClick:()=>{y(s.map(t=>t.data)),v(`${n.charAt(0).toUpperCase()+n.slice(1)} - Full Report`),x("formatted")},children:["ðŸ“Š View Full Report (",s.length,")"]}),n==="animals"&&e.jsx("button",{className:"tab-btn",style:{background:"#ef4444",color:"white"},onClick:()=>{const t=new Date().toISOString().slice(0,10),i=new Date(new Date().setMonth(new Date().getMonth()-6)).toISOString().slice(0,10);q(h.animals||[],i,t)},children:"ðŸ“• PDF: Profit Report"}),n==="breeding"&&e.jsx("button",{className:"tab-btn",style:{background:"#ec4899",color:"white"},onClick:()=>{const t=JSON.parse(localStorage.getItem("cattalytics:pets")||"[]");_(h.animals||[],t)},children:"ðŸ“• PDF: Breeding Records"}),n==="crops"&&e.jsx("button",{className:"tab-btn",style:{background:"#059669",color:"white"},onClick:()=>{const t=new Date().toISOString().slice(0,10),i=new Date(new Date().setFullYear(new Date().getFullYear()-1)).toISOString().slice(0,10);Q(h.crops||[],i,t)},children:"ðŸ“• PDF: Yield Report"}),n==="finance"&&e.jsx("button",{className:"tab-btn",style:{background:"#3b82f6",color:"white"},onClick:()=>{const t=new Date().toISOString().slice(0,10),i=new Date(new Date().setMonth(new Date().getMonth()-3)).toISOString().slice(0,10);Z(h.finance||[],i,t)},children:"ðŸ“• PDF: Financial Summary"}),n==="inventory"&&e.jsx("button",{className:"tab-btn",style:{background:"#8b5cf6",color:"white"},onClick:()=>{K(h.inventory||[])},children:"ðŸ“• PDF: Inventory Report"}),e.jsx("button",{className:"tab-btn",onClick:()=>T(s.map(t=>t.data),`${n}-report-${new Date().toISOString().slice(0,10)}.docx`,`${n.charAt(0).toUpperCase()+n.slice(1)} Report`,n),children:"ðŸ“„ DOCX Report"}),e.jsx("button",{className:"tab-btn",onClick:()=>A(s.map(t=>t.data),`${n}-export.json`),children:"JSON"}),e.jsx("button",{className:"tab-btn",onClick:()=>D(s.map(t=>t.data),`${n}-export.xml`),children:"XML"})]}),e.jsx("div",{children:s.length===0?e.jsx("div",{className:"muted",children:"No records for selected section."}):s.map(t=>e.jsx("div",{className:"card",style:{marginBottom:8},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600},children:t.type==="animal"?t.data.name||t.data.tag||t.id:t.type==="crop"?t.data.name||t.id:t.type==="task"?t.data.title||t.id:t.type==="finance"?t.data.description||t.id:t.type==="pasture"?t.data.name||t.id:t.type==="schedule"?t.data.title||t.id:t.type==="resource"||t.type==="group"?t.data.name||t.id:t.type==="health"?t.data.name||t.data.tag||t.id:`${t.type} ${t.id}`}),e.jsxs("div",{className:"muted",children:[t.type," â€¢ ",t.id]})]}),e.jsxs("div",{children:[e.jsx("button",{className:"tab-btn",onClick:()=>{y(t.data),v(`${t.type} - ${t.id}`),x("formatted")},children:"ðŸ‘ï¸ View"}),e.jsx("button",{className:"tab-btn",onClick:()=>T(t.data,`${t.type}-${t.id}.docx`,`${t.type} ${t.id}`,n),children:"ðŸ“„ DOCX"}),e.jsx("button",{className:"tab-btn",onClick:()=>A(t.data,`${t.type}-${t.id}.json`),children:"JSON"})]})]})},t.id))})]})]}),a&&e.jsx("div",{className:"drawer-overlay",onClick:()=>y(null),children:e.jsxs("div",{className:"drawer",onClick:t=>t.stopPropagation(),style:{maxWidth:"1000px",width:"90%"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsx("h3",{children:d}),e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsxs("select",{value:p,onChange:t=>x(t.target.value),style:{padding:"6px 10px"},children:[e.jsx("option",{value:"formatted",children:"Formatted View"}),e.jsx("option",{value:"json",children:"JSON"}),e.jsx("option",{value:"xml",children:"XML"})]}),e.jsx("button",{onClick:()=>A(a,`${d.replace(/ /g,"-")}.json`),children:"JSON"}),e.jsx("button",{onClick:()=>D(a,`${d.replace(/ /g,"-")}.xml`),children:"XML"}),e.jsx("button",{onClick:()=>T(a,`${d.replace(/ /g,"-")}.docx`,d),children:"DOCX"}),e.jsx("button",{onClick:()=>y(null),children:"Close"})]})]}),e.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",maxHeight:"70vh",overflowY:"auto"},children:[p==="formatted"&&e.jsxs("div",{style:{fontFamily:"Arial, sans-serif",fontSize:"16px"},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #059669 0%, #10b981 100%)",color:"#fff",padding:"32px",borderRadius:"12px",marginBottom:"32px",textAlign:"center"},children:[e.jsx("h1",{style:{margin:"0 0 12px 0",fontSize:"32px",fontWeight:"bold"},children:n==="animals"?"ðŸ„ Animal Records":n==="crops"?"ðŸŒ¾ Crop Records":n==="finance"?"ðŸ’° Money Records":n==="tasks"?"ðŸ“‹ Task List":n==="pastures"?"ðŸŒ± Pasture Records":n==="health"?"ðŸ¥ Health Records":`ðŸ“Š ${n.charAt(0).toUpperCase()+n.slice(1)} Records`}),e.jsx("div",{style:{fontSize:"18px",opacity:.95},children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("div",{style:{fontSize:"16px",opacity:.9,marginTop:"4px"},children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),Array.isArray(a)?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{background:"#fffbeb",padding:"28px",borderRadius:"12px",marginBottom:"32px",border:"3px solid #fbbf24"},children:[e.jsx("h2",{style:{margin:"0 0 20px 0",color:"#92400e",fontSize:"24px"},children:"ðŸ“Š Quick Summary"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"20px"},children:[e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#fff",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#78716c",marginBottom:"8px",textTransform:"uppercase",fontWeight:"bold"},children:"Total Records"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#059669"},children:a.length})]}),n==="finance"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#fff",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#78716c",marginBottom:"8px",textTransform:"uppercase",fontWeight:"bold"},children:"Money In"}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#059669"},children:["$",a.filter(t=>t.type==="income"||t.amount>0).reduce((t,i)=>t+Math.abs(i.amount||0),0).toFixed(2)]})]}),e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#fff",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#78716c",marginBottom:"8px",textTransform:"uppercase",fontWeight:"bold"},children:"Money Out"}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#dc2626"},children:["$",a.filter(t=>t.type==="expense"||t.amount<0).reduce((t,i)=>t+Math.abs(i.amount||0),0).toFixed(2)]})]}),e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#fff",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#78716c",marginBottom:"8px",textTransform:"uppercase",fontWeight:"bold"},children:"Balance"}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:"bold",color:a.filter(t=>t.type==="income"||t.amount>0).reduce((t,i)=>t+Math.abs(i.amount||0),0)-a.filter(t=>t.type==="expense"||t.amount<0).reduce((t,i)=>t+Math.abs(i.amount||0),0)>=0?"#059669":"#dc2626"},children:["$",(a.filter(t=>t.type==="income"||t.amount>0).reduce((t,i)=>t+Math.abs(i.amount||0),0)-a.filter(t=>t.type==="expense"||t.amount<0).reduce((t,i)=>t+Math.abs(i.amount||0),0)).toFixed(2)]})]})]}),n==="animals"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#fff",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#78716c",marginBottom:"8px",textTransform:"uppercase",fontWeight:"bold"},children:"Active Animals"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#059669"},children:a.filter(t=>t.status==="Active").length})]}),e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#fff",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#78716c",marginBottom:"8px",textTransform:"uppercase",fontWeight:"bold"},children:"Different Breeds"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#059669"},children:[...new Set(a.map(t=>t.breed))].filter(Boolean).length})]})]}),n==="crops"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#fff",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#78716c",marginBottom:"8px",textTransform:"uppercase",fontWeight:"bold"},children:"Total Acres"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#059669"},children:a.reduce((t,i)=>t+(i.area||0),0).toFixed(1)})]}),e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#fff",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#78716c",marginBottom:"8px",textTransform:"uppercase",fontWeight:"bold"},children:"Growing Now"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#059669"},children:a.filter(t=>["Planted","Growing","Flowering","Filling"].includes(t.status)).length})]})]}),n==="tasks"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#fff",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#78716c",marginBottom:"8px",textTransform:"uppercase",fontWeight:"bold"},children:"Done"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#059669"},children:a.filter(t=>t.done).length})]}),e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#fff",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#78716c",marginBottom:"8px",textTransform:"uppercase",fontWeight:"bold"},children:"To Do"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#f59e0b"},children:a.filter(t=>!t.done).length})]}),e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#fff",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#78716c",marginBottom:"8px",textTransform:"uppercase",fontWeight:"bold"},children:"Urgent"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:a.filter(t=>!t.done&&(t.priority==="High"||t.priority==="Critical")).length>0?"#dc2626":"#059669"},children:a.filter(t=>!t.done&&(t.priority==="High"||t.priority==="Critical")).length})]})]})]})]}),e.jsx("h2",{style:{margin:"0 0 20px 0",color:"#374151",fontSize:"24px"},children:"ðŸ“‹ All Records"}),a.map((t,i)=>{const l=c=>({id:"ID Number",tag:"Tag Number",name:"Name",breed:"Breed",sex:"Gender",dob:"Birth Date",weight:"Weight (lbs)",status:"Status",amount:"Amount ($)",date:"Date",type:"Type",category:"Category",description:"Details",vendor:"Vendor/Store",area:"Acres",planted:"Planted Date",expectedHarvest:"Expected Harvest",variety:"Variety",soilType:"Soil Type",irrigationType:"Watering Method",field:"Field Location",title:"Title",assignedTo:"Assigned To",due:"Due Date",priority:"Priority",done:"Completed",notes:"Notes",color:"Color",groupId:"Group",owner:"Owner",sire:"Father",dam:"Mother"})[c]||c.replace(/([A-Z])/g," $1").trim();return e.jsxs("div",{style:{background:"#fff",padding:"24px",marginBottom:"20px",borderRadius:"12px",border:"2px solid #e5e7eb",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"16px",borderBottom:"3px solid #10b981"},children:[e.jsx("h3",{style:{margin:0,color:"#10b981",fontSize:"22px",fontWeight:"bold"},children:t.name||t.title||t.description?.substring(0,50)||`Record #${i+1}`}),e.jsx("span",{style:{background:"#10b981",color:"#fff",padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"bold"},children:t.id||`#${i+1}`})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:Object.entries(t).map(([c,f])=>c==="notes"||c==="photo"||c==="photos"||c==="treatments"||c==="healthMonitoring"?null:e.jsxs("div",{style:{padding:"16px",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[e.jsx("div",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"6px",fontWeight:"bold",textTransform:"uppercase"},children:l(c)}),e.jsx("div",{style:{fontSize:"17px",color:"#111827",fontWeight:"600",lineHeight:"1.4"},children:typeof f=="boolean"?e.jsx("span",{style:{color:f?"#059669":"#dc2626",fontWeight:"bold"},children:f?"âœ“ Yes":"âœ— No"}):typeof f=="object"&&f!==null?e.jsx("span",{style:{color:"#6b7280",fontSize:"14px"},children:"See full details"}):f==null||f===""?e.jsx("span",{style:{color:"#9ca3af",fontStyle:"italic"},children:"â€”"}):c==="amount"||c.toLowerCase().includes("price")||c.toLowerCase().includes("cost")?e.jsxs("span",{style:{color:parseFloat(f)>=0?"#059669":"#dc2626",fontWeight:"bold"},children:["$",Math.abs(parseFloat(f)||0).toFixed(2)]}):String(f)})]},c))})]},i)})]}):e.jsx("div",{style:{background:"#fff",padding:"24px",borderRadius:"12px",border:"2px solid #e5e7eb"},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:Object.entries(a).map(([t,i])=>{const l=c=>({id:"ID Number",tag:"Tag Number",name:"Name",breed:"Breed",sex:"Gender",dob:"Birth Date",weight:"Weight (lbs)",status:"Status",amount:"Amount ($)",date:"Date",type:"Type",category:"Category",description:"Details",vendor:"Vendor/Store"})[c]||c.replace(/([A-Z])/g," $1").trim();return e.jsxs("div",{style:{padding:"16px",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[e.jsx("div",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"6px",fontWeight:"bold",textTransform:"uppercase"},children:l(t)}),e.jsx("div",{style:{fontSize:"17px",color:"#111827",fontWeight:"600"},children:typeof i=="object"&&i!==null?e.jsx("span",{style:{color:"#6b7280",fontSize:"14px"},children:"See full details"}):String(i||"â€”")})]},t)})})})]}),p==="json"&&e.jsx("pre",{style:{margin:0,fontFamily:"monospace",fontSize:"13px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(a,null,2)}),p==="xml"&&e.jsx("pre",{style:{margin:0,fontFamily:"monospace",fontSize:"13px",whiteSpace:"pre-wrap",wordBreak:"break-word",color:"#059669"},children:M(a,"data")})]}),e.jsxs("div",{style:{marginTop:"16px",display:"flex",gap:"8px",flexWrap:"wrap"},children:[e.jsx("button",{onClick:()=>{const t=p==="xml"?M(a,"data"):JSON.stringify(a,null,2);navigator.clipboard.writeText(t),alert("Copied to clipboard!")},style:{background:"#6b7280",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"6px"},children:"ðŸ“‹ Copy to Clipboard"}),e.jsx("button",{onClick:()=>T(a,`${d.replace(/ /g,"-")}.docx`,d,n),style:{background:"var(--green)",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"6px"},children:"ðŸ“„ Download DOCX Report"}),e.jsx("button",{onClick:()=>A(a,`${d.replace(/ /g,"-")}.json`),style:{background:"#3b82f6",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"6px"},children:"Download JSON"}),e.jsx("button",{onClick:()=>D(a,`${d.replace(/ /g,"-")}.xml`),style:{background:"#8b5cf6",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"6px"},children:"Download XML"})]})]})})]})}function ie(){const[n,g]=N.useState("fer"),[h,m]=N.useState("month"),[r,o]=N.useState(null),[a,y]=N.useState(null),[d,v]=N.useState(null),[p,x]=N.useState([]),u=JSON.parse(localStorage.getItem("devinsfarm:animals")||"[]");return N.useEffect(()=>{n==="fer"?o(O(u)):n==="roi"?y($(u)):n==="comparison"?v(ee(h)):n==="top"&&x(ne("roi",10))},[n,h]),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20,flexWrap:"wrap"},children:[e.jsx("button",{className:`tab-btn ${n==="fer"?"active":""}`,onClick:()=>g("fer"),children:"ðŸ“Š Feed Efficiency Ratio"}),e.jsx("button",{className:`tab-btn ${n==="roi"?"active":""}`,onClick:()=>g("roi"),children:"ðŸ’° ROI Analysis"}),e.jsx("button",{className:`tab-btn ${n==="comparison"?"active":""}`,onClick:()=>g("comparison"),children:"ðŸ“ˆ Comparative Analysis"}),e.jsx("button",{className:`tab-btn ${n==="top"?"active":""}`,onClick:()=>g("top"),children:"ðŸ† Top Performers"})]}),n==="fer"&&r&&e.jsxs("div",{children:[e.jsxs("div",{className:"card",style:{marginBottom:20,padding:20},children:[e.jsx("h3",{children:"Feed Efficiency Ratio (FER) Analysis"}),e.jsx("p",{className:"muted",children:"FER = Weight Gain (kg) / Feed Consumed (kg)"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:16,marginTop:20},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold",color:"var(--accent1)"},children:r.averageFER.toFixed(3)}),e.jsx("div",{className:"muted",children:"Average FER"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold",color:"var(--green)"},children:r.analyzedAnimals}),e.jsx("div",{className:"muted",children:"Animals Analyzed"})]})]})]}),e.jsx("div",{style:{display:"grid",gap:12},children:r.results.map(s=>e.jsxs("div",{className:"card",style:{padding:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:16},children:s.animalName}),e.jsxs("div",{className:"muted",children:[s.startWeight,"kg â†’ ",s.endWeight,"kg over ",s.days," days"]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:s.fer>.15?"var(--green)":s.fer>.1?"#f59e0b":"#ef4444"},children:s.fer.toFixed(3)}),e.jsx("div",{style:{display:"inline-block",padding:"4px 12px",borderRadius:12,fontSize:12,fontWeight:600,background:s.efficiency==="Excellent"?"#d1fae5":s.efficiency==="Good"?"#fef3c7":s.efficiency==="Average"?"#dbeafe":"#fecaca",color:s.efficiency==="Excellent"?"#065f46":s.efficiency==="Good"?"#92400e":s.efficiency==="Average"?"#1e40af":"#991b1b"},children:s.efficiency})]})]}),e.jsxs("div",{style:{marginTop:12,display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,fontSize:14},children:[e.jsxs("div",{children:["Weight Gain: ",e.jsxs("strong",{children:[s.weightGain.toFixed(1)," kg"]})]}),e.jsxs("div",{children:["Feed Consumed: ",e.jsxs("strong",{children:[s.feedConsumed.toFixed(1)," kg"]})]})]})]},s.animalId))})]}),n==="roi"&&a&&e.jsxs("div",{children:[e.jsxs("div",{className:"card",style:{marginBottom:20,padding:20,background:"linear-gradient(135deg, #059669, #10b981)",color:"#fff"},children:[e.jsx("h3",{style:{color:"#fff",margin:"0 0 16px 0"},children:"Return on Investment (ROI) Summary"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:16},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:28,fontWeight:"bold"},children:C(a.summary.totalRevenue)}),e.jsx("div",{style:{opacity:.9},children:"Total Revenue"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:28,fontWeight:"bold"},children:C(a.summary.totalCosts)}),e.jsx("div",{style:{opacity:.9},children:"Total Costs"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:28,fontWeight:"bold"},children:C(a.summary.totalProfit)}),e.jsx("div",{style:{opacity:.9},children:"Net Profit"})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:28,fontWeight:"bold"},children:[a.summary.averageROI.toFixed(1),"%"]}),e.jsx("div",{style:{opacity:.9},children:"Average ROI"})]})]})]}),e.jsx("div",{style:{display:"grid",gap:12},children:a.results.map(s=>e.jsxs("div",{className:"card",style:{padding:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:16},children:s.animalName}),e.jsxs("div",{className:"muted",children:[s.animalType," - ",s.status]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{fontSize:24,fontWeight:"bold",color:s.roi>0?"var(--green)":"#ef4444"},children:[s.roi.toFixed(1),"%"]}),e.jsx("div",{style:{display:"inline-block",padding:"4px 12px",borderRadius:12,fontSize:12,fontWeight:600,background:s.roi>50?"#d1fae5":s.roi>20?"#fef3c7":s.roi>0?"#dbeafe":"#fecaca",color:s.roi>50?"#065f46":s.roi>20?"#92400e":s.roi>0?"#1e40af":"#991b1b"},children:s.profitability})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,fontSize:14},children:[e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Costs"}),e.jsxs("div",{children:["Purchase: ",C(s.costs.purchase)]}),e.jsxs("div",{children:["Feed: ",C(s.costs.feed)]}),e.jsxs("div",{children:["Treatment: ",C(s.costs.treatment)]}),e.jsxs("div",{style:{fontWeight:600,marginTop:4},children:["Total: ",C(s.costs.total)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Revenue"}),e.jsxs("div",{children:["Milk: ",C(s.revenue.milk)]}),e.jsxs("div",{children:["Sale: ",C(s.revenue.sale)]}),e.jsxs("div",{style:{fontWeight:600,marginTop:4},children:["Total: ",C(s.revenue.total)]}),e.jsxs("div",{style:{fontWeight:700,fontSize:16,color:s.profit>0?"var(--green)":"#ef4444",marginTop:4},children:["Profit: ",C(s.profit)]})]})]})]},s.animalId))})]}),n==="comparison"&&d&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:20,display:"flex",gap:10,alignItems:"center"},children:[e.jsx("label",{children:"Period Type:"}),e.jsxs("select",{value:h,onChange:s=>m(s.target.value),style:{padding:"6px 12px",borderRadius:6},children:[e.jsx("option",{value:"month",children:"Monthly"}),e.jsx("option",{value:"quarter",children:"Quarterly"})]})]}),e.jsxs("div",{className:"card",style:{marginBottom:20,padding:20},children:[e.jsx("h3",{children:"Performance Trends"}),d.trends&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:16,marginTop:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Income Change"}),e.jsxs("div",{style:{fontSize:24,fontWeight:"bold",color:d.trends.incomeChange>0?"var(--green)":"#ef4444"},children:[d.trends.incomeChange>0?"â†‘":"â†“"," ",Math.abs(d.trends.incomeChange).toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Expense Change"}),e.jsxs("div",{style:{fontSize:24,fontWeight:"bold",color:d.trends.expensesChange>0?"#ef4444":"var(--green)"},children:[d.trends.expensesChange>0?"â†‘":"â†“"," ",Math.abs(d.trends.expensesChange).toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Profit Change"}),e.jsxs("div",{style:{fontSize:24,fontWeight:"bold",color:d.trends.profitChange>0?"var(--green)":"#ef4444"},children:[d.trends.profitChange>0?"â†‘":"â†“"," ",Math.abs(d.trends.profitChange).toFixed(1),"%"]})]})]})]}),e.jsx("div",{style:{display:"grid",gap:12},children:d.periods.map((s,S)=>e.jsxs("div",{className:"card",style:{padding:16},children:[e.jsx("div",{style:{fontWeight:600,fontSize:16,marginBottom:12},children:s.period}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:12,fontSize:14},children:[e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Income"}),e.jsx("div",{style:{fontWeight:600,color:"var(--green)"},children:C(s.income)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Expenses"}),e.jsx("div",{style:{fontWeight:600,color:"#ef4444"},children:C(s.expenses)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Profit"}),e.jsx("div",{style:{fontWeight:600,color:s.profit>0?"var(--green)":"#ef4444"},children:C(s.profit)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Milk Production"}),e.jsxs("div",{style:{fontWeight:600},children:[s.milkProduction.toFixed(1)," L"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Feed Costs"}),e.jsx("div",{style:{fontWeight:600},children:C(s.feedCosts)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Profit Margin"}),e.jsxs("div",{style:{fontWeight:600},children:[s.profitMargin.toFixed(1),"%"]})]})]})]},S))})]}),n==="top"&&p&&e.jsxs("div",{children:[e.jsx("div",{className:"card",style:{padding:20,marginBottom:20,background:"linear-gradient(135deg, #f59e0b, #eab308)",color:"#fff"},children:e.jsx("h3",{style:{margin:0,color:"#fff"},children:"ðŸ† Top 10 Performers by ROI"})}),e.jsx("div",{style:{display:"grid",gap:12},children:p.map((s,S)=>e.jsxs("div",{className:"card",style:{padding:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[e.jsxs("div",{style:{fontSize:28,fontWeight:"bold",color:S<3?"#f59e0b":"var(--muted)"},children:["#",S+1]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:16},children:s.animalName}),e.jsx("div",{className:"muted",children:s.profitability})]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{fontSize:24,fontWeight:"bold",color:"var(--green)"},children:[s.roi.toFixed(1),"%"]}),e.jsx("div",{className:"muted",children:"ROI"})]})]},s.animalId))})]})]})}export{de as default};
