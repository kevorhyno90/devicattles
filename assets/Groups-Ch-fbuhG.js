import{r as d,j as e}from"./index-B8Dyeey_.js";const z=[{id:"G-001",name:"Dairy Herd A",type:"Dairy Cattle",purpose:"Milk Production",animalIds:[],manager:"John Smith",location:"North Barn",status:"Active",created:"2025-01-15",feedProgram:"High Protein Mix",healthProtocol:"Monthly check-ups",notes:"Top producing herd",targetSize:50,breedingStatus:"Active",vaccinationSchedule:"Quarterly",averageAge:4.2,productionGoals:{dailyMilk:2500,monthlyMilk:75e3,quality:"Premium"},genetics:{breed:"Holstein",lineage:"Premium genetics",inbreeding:"Low"}},{id:"G-002",name:"Feeder Calves",type:"Beef Cattle",purpose:"Beef Production",animalIds:[],manager:"Sarah Johnson",location:"South Pasture",status:"Active",created:"2025-03-20",feedProgram:"Grain Finishing",healthProtocol:"Bi-weekly monitoring",notes:"Ready for market in 3 months",targetSize:30,breedingStatus:"N/A",vaccinationSchedule:"As needed",averageAge:1.5,productionGoals:{targetWeight:1200,marketDate:"2025-12-01",quality:"Choice"},genetics:{breed:"Angus Cross",lineage:"Commercial",inbreeding:"None"}}];function P({animals:v=[]}){const u="cattalytics:groups",[r,p]=d.useState([]),[t,h]=d.useState(null),[x,j]=d.useState(null),[s,a]=d.useState({}),[f,g]=d.useState(!1),[l,o]=d.useState({name:"",type:"Dairy Cattle",purpose:"Milk Production",manager:"",location:"",feedProgram:"",targetSize:0});d.useEffect(()=>{const i=localStorage.getItem(u);p(i?JSON.parse(i):z)},[]),d.useEffect(()=>{localStorage.setItem(u,JSON.stringify(r))},[r]);function b(){if(!l.name.trim()){alert("Group name is required");return}const i={...l,id:"G-"+Date.now(),animalIds:[],status:"Active",created:new Date().toISOString().split("T")[0],notes:"",breedingStatus:"Active",vaccinationSchedule:"Quarterly",healthProtocol:"Regular check-ups"};p([...r,i]),g(!1),o({name:"",type:"Dairy Cattle",purpose:"Milk Production",manager:"",location:"",feedProgram:"",targetSize:0})}function S(i){confirm("Delete this group? Animals will not be deleted.")&&(p(r.filter(n=>n.id!==i)),t?.id===i&&h(null))}function m(i){j(i.id),a({...i})}function C(){p(r.map(i=>i.id===x?{...i,...s}:i)),j(null),t?.id===x&&h({...t,...s})}function y(){j(null),a({})}function k(i,n){p(r.map(c=>c.id===i?{...c,animalIds:c.animalIds.filter(w=>w!==n)}:c))}const G=r.map(i=>({...i,currentSize:i.animalIds?.length||0,fillRate:i.targetSize>0?((i.animalIds?.length||0)/i.targetSize*100).toFixed(0):0}));return e.jsxs("section",{children:[e.jsxs("div",{className:"health-header",children:[e.jsxs("div",{children:[e.jsx("h2",{style:{margin:0},children:"ðŸ‘¥ Groups & Herds"}),e.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:"Manage animal groups, herds, and production units"})]}),e.jsx("button",{className:"tab-btn",onClick:()=>g(!0),children:"âž• Add Group"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"20px"},children:[e.jsxs("div",{className:"card",style:{padding:"16px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"var(--green)"},children:r.length}),e.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:"Total Groups"})]}),e.jsxs("div",{className:"card",style:{padding:"16px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"var(--green)"},children:r.filter(i=>i.status==="Active").length}),e.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:"Active Groups"})]}),e.jsxs("div",{className:"card",style:{padding:"16px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"var(--green)"},children:r.reduce((i,n)=>i+(n.animalIds?.length||0),0)}),e.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:"Total Animals in Groups"})]}),e.jsxs("div",{className:"card",style:{padding:"16px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"var(--green)"},children:[...new Set(r.map(i=>i.type))].length}),e.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:"Group Types"})]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"16px"},children:G.map(i=>e.jsxs("div",{className:"card",style:{padding:"16px",cursor:"pointer"},onClick:()=>h(i),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,color:"var(--green)",fontSize:"18px"},children:i.name}),e.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"4px"},children:i.id})]}),e.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"600",background:i.status==="Active"?"#dcfce7":"#fee2e2",color:i.status==="Active"?"#166534":"#991b1b"},children:i.status})]}),e.jsxs("div",{style:{fontSize:"14px",marginBottom:"12px"},children:[e.jsxs("div",{style:{marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Type:"})," ",e.jsx("strong",{children:i.type})]}),e.jsxs("div",{style:{marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Purpose:"})," ",e.jsx("strong",{children:i.purpose})]}),e.jsxs("div",{style:{marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Location:"})," ",i.location||"Not set"]}),e.jsxs("div",{style:{marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Manager:"})," ",i.manager||"Not assigned"]})]}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",marginBottom:"4px"},children:[e.jsx("span",{children:"Group Size"}),e.jsxs("span",{children:[i.currentSize," / ",i.targetSize]})]}),e.jsx("div",{style:{height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",width:`${Math.min(100,i.fillRate)}%`,background:i.fillRate>=100?"#ef4444":i.fillRate>=80?"#fbbf24":"var(--green)",transition:"width 0.3s"}})})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[e.jsx("button",{onClick:n=>{n.stopPropagation(),m(i)},style:{flex:1,padding:"6px",fontSize:"13px"},children:"âœï¸ Edit"}),e.jsx("button",{onClick:n=>{n.stopPropagation(),S(i.id)},style:{flex:1,padding:"6px",fontSize:"13px",background:"#ef4444",color:"#fff"},children:"ðŸ—‘ï¸ Delete"})]})]},i.id))}),f&&e.jsx("div",{className:"drawer-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"drawer",onClick:i=>i.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsx("h3",{children:"Add New Group"}),e.jsxs("div",{style:{display:"grid",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Group Name *"}),e.jsx("input",{value:l.name,onChange:i=>o({...l,name:i.target.value}),placeholder:"e.g., Dairy Herd A",style:{width:"100%"}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Type"}),e.jsxs("select",{value:l.type,onChange:i=>o({...l,type:i.target.value}),style:{width:"100%"},children:[e.jsx("option",{children:"Dairy Cattle"}),e.jsx("option",{children:"Beef Cattle"}),e.jsx("option",{children:"Breeding Stock"}),e.jsx("option",{children:"Young Stock"}),e.jsx("option",{children:"Dry Cows"}),e.jsx("option",{children:"Replacement Heifers"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Purpose"}),e.jsxs("select",{value:l.purpose,onChange:i=>o({...l,purpose:i.target.value}),style:{width:"100%"},children:[e.jsx("option",{children:"Milk Production"}),e.jsx("option",{children:"Beef Production"}),e.jsx("option",{children:"Breeding"}),e.jsx("option",{children:"Growing"}),e.jsx("option",{children:"Finishing"})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Manager"}),e.jsx("input",{value:l.manager,onChange:i=>o({...l,manager:i.target.value}),placeholder:"Person responsible",style:{width:"100%"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Location"}),e.jsx("input",{value:l.location,onChange:i=>o({...l,location:i.target.value}),placeholder:"Barn, pasture, etc.",style:{width:"100%"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Feed Program"}),e.jsx("input",{value:l.feedProgram,onChange:i=>o({...l,feedProgram:i.target.value}),placeholder:"e.g., High Protein Mix",style:{width:"100%"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Target Size"}),e.jsx("input",{type:"number",value:l.targetSize,onChange:i=>o({...l,targetSize:parseInt(i.target.value)||0}),style:{width:"100%"}})]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"20px"},children:[e.jsx("button",{onClick:b,style:{flex:1,background:"var(--green)",color:"#fff"},children:"Add Group"}),e.jsx("button",{onClick:()=>g(!1),style:{flex:1},children:"Cancel"})]})]})}),t&&!x&&e.jsx("div",{className:"drawer-overlay",onClick:()=>h(null),children:e.jsxs("div",{className:"drawer",onClick:i=>i.stopPropagation(),style:{maxWidth:"800px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0},children:t.name}),e.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:t.id})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>m(t),children:"âœï¸ Edit"}),e.jsx("button",{onClick:()=>h(null),children:"Close"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsx("h4",{style:{marginTop:0},children:"ðŸ“‹ Basic Information"}),e.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.8"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",t.type]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Purpose:"})," ",t.purpose]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",t.status]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Created:"})," ",t.created]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Manager:"})," ",t.manager||"Not assigned"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Location:"})," ",t.location||"Not set"]})]})]}),e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsx("h4",{style:{marginTop:0},children:"ðŸ“Š Group Statistics"}),e.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.8"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Current Size:"})," ",t.animalIds?.length||0," animals"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Target Size:"})," ",t.targetSize]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Capacity:"})," ",((t.animalIds?.length||0)/t.targetSize*100).toFixed(0),"%"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Breeding Status:"})," ",t.breedingStatus||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Avg Age:"})," ",t.averageAge||"N/A"," years"]})]})]}),e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsx("h4",{style:{marginTop:0},children:"ðŸ½ï¸ Feeding & Health"}),e.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.8"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Feed Program:"})," ",t.feedProgram||"Not set"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Health Protocol:"})," ",t.healthProtocol||"Not set"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Vaccination Schedule:"})," ",t.vaccinationSchedule||"Not set"]})]})]}),e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsx("h4",{style:{marginTop:0},children:"ðŸŽ¯ Production Goals"}),e.jsx("div",{style:{fontSize:"14px",lineHeight:"1.8"},children:t.productionGoals?e.jsxs(e.Fragment,{children:[t.productionGoals.dailyMilk&&e.jsxs("div",{children:[e.jsx("strong",{children:"Daily Milk:"})," ",t.productionGoals.dailyMilk," lbs"]}),t.productionGoals.monthlyMilk&&e.jsxs("div",{children:[e.jsx("strong",{children:"Monthly Milk:"})," ",t.productionGoals.monthlyMilk," lbs"]}),t.productionGoals.targetWeight&&e.jsxs("div",{children:[e.jsx("strong",{children:"Target Weight:"})," ",t.productionGoals.targetWeight," lbs"]}),t.productionGoals.marketDate&&e.jsxs("div",{children:[e.jsx("strong",{children:"Market Date:"})," ",t.productionGoals.marketDate]}),t.productionGoals.quality&&e.jsxs("div",{children:[e.jsx("strong",{children:"Quality Grade:"})," ",t.productionGoals.quality]})]}):e.jsx("div",{style:{color:"#64748b"},children:"No production goals set"})})]})]}),t.notes&&e.jsxs("div",{className:"card",style:{padding:"16px",marginTop:"16px"},children:[e.jsx("h4",{style:{marginTop:0},children:"ðŸ“ Notes"}),e.jsx("p",{style:{margin:0,fontSize:"14px",lineHeight:"1.6"},children:t.notes})]}),e.jsxs("div",{className:"card",style:{padding:"16px",marginTop:"16px"},children:[e.jsxs("h4",{style:{marginTop:0},children:["ðŸ„ Animals in Group (",t.animalIds?.length||0,")"]}),t.animalIds?.length>0?e.jsx("div",{style:{display:"grid",gap:"8px"},children:t.animalIds.map(i=>{const n=v.find(c=>c.id===i||c.tag===i);return e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",background:"#f8fafc",borderRadius:"4px"},children:[e.jsx("span",{children:n?`${n.name||n.tag} - ${n.breed}`:i}),e.jsx("button",{onClick:()=>k(t.id,i),style:{padding:"4px 8px",fontSize:"12px",background:"#ef4444",color:"#fff"},children:"Remove"})]},i)})}):e.jsx("p",{style:{color:"#64748b",fontSize:"14px"},children:"No animals in this group yet"})]})]})}),x&&e.jsx("div",{className:"drawer-overlay",onClick:y,children:e.jsxs("div",{className:"drawer",onClick:i=>i.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsx("h3",{children:"Edit Group"}),e.jsxs("div",{style:{display:"grid",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Group Name"}),e.jsx("input",{value:s.name||"",onChange:i=>a({...s,name:i.target.value}),style:{width:"100%"}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Type"}),e.jsxs("select",{value:s.type||"",onChange:i=>a({...s,type:i.target.value}),style:{width:"100%"},children:[e.jsx("option",{children:"Dairy Cattle"}),e.jsx("option",{children:"Beef Cattle"}),e.jsx("option",{children:"Breeding Stock"}),e.jsx("option",{children:"Young Stock"}),e.jsx("option",{children:"Dry Cows"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Purpose"}),e.jsx("input",{value:s.purpose||"",onChange:i=>a({...s,purpose:i.target.value}),style:{width:"100%"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Manager"}),e.jsx("input",{value:s.manager||"",onChange:i=>a({...s,manager:i.target.value}),style:{width:"100%"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Location"}),e.jsx("input",{value:s.location||"",onChange:i=>a({...s,location:i.target.value}),style:{width:"100%"}})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:i=>a({...s,status:i.target.value}),style:{width:"100%"},children:[e.jsx("option",{children:"Active"}),e.jsx("option",{children:"Inactive"}),e.jsx("option",{children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Feed Program"}),e.jsx("input",{value:s.feedProgram||"",onChange:i=>a({...s,feedProgram:i.target.value}),style:{width:"100%"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Target Size"}),e.jsx("input",{type:"number",value:s.targetSize||0,onChange:i=>a({...s,targetSize:parseInt(i.target.value)||0}),style:{width:"100%"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"600"},children:"Notes"}),e.jsx("textarea",{value:s.notes||"",onChange:i=>a({...s,notes:i.target.value}),style:{width:"100%",minHeight:"80px"}})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"20px"},children:[e.jsx("button",{onClick:C,style:{flex:1,background:"var(--green)",color:"#fff"},children:"Save Changes"}),e.jsx("button",{onClick:y,style:{flex:1},children:"Cancel"})]})]})})]})}export{P as default};
