import{r as x,j as e}from"./index-CeDgDi5r.js";import"./vendor-react-CqO7gtIP.js";import"./lib-core-XQuPJE47.js";import"./lib-export-Dp5-osfT.js";import"./lib-notifications-DRlqN2Ug.js";import"./lib-integration-BX7JWOcy.js";import"./vendor-firebase-DPzZ0AXH.js";const L=["Mixed Grass","Fescue","Ryegrass","Timothy","Orchardgrass","Alfalfa","Clover","Bermuda","Bluegrass","Native Prairie"],q=["Loam","Clay Loam","Sandy Loam","Silt Loam","Clay","Sandy","Silty","Rocky"],z=["Active Grazing","Resting","Planned","Maintenance","Renovation","Establishing","Dormant"],Q=["Electric","Barbed Wire","High Tensile","Wood Rail","Woven Wire","Pipe","Combination"],K=["Tank","Stream","Pond","Well","River Access","Automatic Waterer","Stream + Tank","Multiple"],Y=["Lime Application","Fertilizer","Overseeding","Mowing","Harrowing","Aeration","Drainage","Fence Repair","Water System","Weed Control"],J=[{id:"P-001",name:"North Pasture",acreage:12.5,notes:"Prime grazing area with excellent drainage",gpsCoordinates:{lat:40.7128,lng:-74.006},soilType:"Loam",soilPH:6.5,soilHealth:"Excellent",forage:"Mixed Grass",forageSpecies:["Orchardgrass","Fescue","Clover"],planted:"2024-03-15",lastSoilTest:"2025-03-15",carryingCapacity:25,currentOccupancy:18,status:"Active Grazing",restPeriod:30,targetRestPeriod:35,lastGrazed:"2025-10-15",nextGrazingDate:"2025-11-19",fencing:"Electric",fenceCondition:"Good",fenceLastInspected:"2025-10-01",waterSource:"Stream + Tank",waterQuality:"Good",waterLastTested:"2025-09-15",shade:!0,shelter:!0,biomass:2800,forageHeight:8,utilization:60,grazingHistory:[{id:1,date:"2025-10-15",animalCount:18,days:14,notes:"Good grass recovery",entryWeight:1200,exitWeight:1225},{id:2,date:"2025-09-01",animalCount:20,days:10,notes:"Rotated early due to weather",entryWeight:1180,exitWeight:1200}],soilTests:[{id:1,date:"2025-03-15",pH:6.5,nitrogen:"High",phosphorus:"Medium",potassium:"High",organicMatter:4.2,recommendations:"Maintain current fertility"}],improvements:[{id:1,date:"2025-02-10",type:"Lime Application",amount:"2 tons",cost:450,appliedBy:"John Smith",notes:"Spread evenly"},{id:2,date:"2024-11-20",type:"Overseeding",seed:"Clover Mix",amount:"15 lbs",cost:280,appliedBy:"Mike Johnson"}],harvests:[{id:1,date:"2025-06-15",type:"Hay - First Cut",quantity:145,unit:"bales",quality:"Premium",moisture:12,price:8.5,buyer:"Green Valley Farm",stored:"Barn A"}],fertilizations:[{id:1,date:"2025-04-10",type:"Nitrogen",product:"Urea",rate:"50 lbs/acre",cost:320,appliedBy:"Tom Brown",weather:"Clear",notes:"Applied before rain forecast"}],pestControl:[{id:1,date:"2025-05-20",target:"Broadleaf Weeds",product:"2,4-D",rate:"1 qt/acre",cost:180,effectiveness:"Good",appliedBy:"Spray Service Co"}],maintenanceSchedule:[{id:1,task:"Fence Inspection",frequency:"Monthly",lastDone:"2025-10-01",nextDue:"2025-11-01",status:"Due Soon"},{id:2,task:"Water Quality Test",frequency:"Quarterly",lastDone:"2025-09-15",nextDue:"2025-12-15",status:"Scheduled"},{id:3,task:"Soil Test",frequency:"Annually",lastDone:"2025-03-15",nextDue:"2026-03-15",status:"Scheduled"}],biodiversity:"High",weedPressure:"Low",erosionRisk:"Low",dragRisk:"Low",compactionRisk:"Low"},{id:"P-002",name:"River Field",acreage:7.3,notes:"Riverside pasture with natural irrigation",gpsCoordinates:{lat:40.715,lng:-74.008},soilType:"Clay Loam",soilPH:6.8,soilHealth:"Good",forage:"Fescue",forageSpecies:["Tall Fescue","Clover"],planted:"2023-09-10",lastSoilTest:"2025-04-10",carryingCapacity:15,currentOccupancy:0,status:"Resting",restPeriod:45,targetRestPeriod:42,lastGrazed:"2025-09-20",nextGrazingDate:"2025-11-04",fencing:"Barbed Wire",fenceCondition:"Fair",fenceLastInspected:"2025-09-01",waterSource:"River Access",waterQuality:"Excellent",waterLastTested:"2025-08-20",shade:!0,shelter:!1,biomass:3200,forageHeight:10,utilization:0,grazingHistory:[{id:1,date:"2025-09-20",animalCount:12,days:21,notes:"Full rotation completed",entryWeight:1190,exitWeight:1215}],soilTests:[{id:1,date:"2025-04-10",pH:6.8,nitrogen:"Medium",phosphorus:"Medium",potassium:"Medium",organicMatter:3.8,recommendations:"Consider nitrogen application in spring"}],improvements:[{id:1,date:"2025-03-05",type:"Fence Repair",amount:"300 ft",cost:520,appliedBy:"John Smith",notes:"Replaced damaged posts and wire"}],harvests:[],fertilizations:[],pestControl:[{id:1,date:"2025-06-10",target:"Thistle",product:"Spot Treatment",rate:"As needed",cost:85,effectiveness:"Excellent",appliedBy:"Mike Johnson"}],maintenanceSchedule:[{id:1,task:"Fence Inspection",frequency:"Monthly",lastDone:"2025-09-01",nextDue:"2025-10-01",status:"Overdue"},{id:2,task:"Water Quality Test",frequency:"Quarterly",lastDone:"2025-08-20",nextDue:"2025-11-20",status:"Upcoming"}],biodiversity:"Medium",weedPressure:"Medium",erosionRisk:"Medium",dragRisk:"Low",compactionRisk:"Medium"}];function te(){const b="cattalytics:pastures:v2",[a,o]=x.useState([]),[m,g]=x.useState(!1),[u,y]=x.useState(null),[S,v]=x.useState(null),[d,h]=x.useState("overview"),[j,P]=x.useState("all"),[n,r]=x.useState({name:"",acreage:"",forage:"Mixed Grass",soilType:"Loam",soilPH:7,status:"Planned",carryingCapacity:"",fencing:"Electric",fenceCondition:"Good",waterSource:"Tank",shade:!1,shelter:!1,notes:""});x.useEffect(()=>{const t=localStorage.getItem(b);o(t?JSON.parse(t):J)},[]),x.useEffect(()=>localStorage.setItem(b,JSON.stringify(a)),[a]);function C(){r({name:"",acreage:"",forage:"Mixed Grass",soilType:"Loam",soilPH:7,status:"Planned",carryingCapacity:"",fencing:"Electric",fenceCondition:"Good",waterSource:"Tank",shade:!1,shelter:!1,notes:""}),y(null)}function k(){if(!(!n.name.trim()||!n.acreage)){if(u)o(a.map(t=>t.id===u?{...t,...n,acreage:parseFloat(n.acreage),soilPH:parseFloat(n.soilPH),carryingCapacity:parseFloat(n.carryingCapacity)||0}:t)),y(null);else{const t="P-"+Math.floor(1e3+Math.random()*9e3);o([...a,{id:t,...n,acreage:parseFloat(n.acreage),soilPH:parseFloat(n.soilPH),carryingCapacity:parseFloat(n.carryingCapacity)||0,currentOccupancy:0,planted:new Date().toISOString().slice(0,10),grazingHistory:[],soilTests:[],improvements:[],harvests:[],fertilizations:[],pestControl:[],maintenanceSchedule:[],biodiversity:"Medium",weedPressure:"Low",erosionRisk:"Low"}])}C(),g(!1)}}function T(t){r({...t}),y(t.id),g(!0)}function H(t){confirm("Delete pasture? This will remove all history.")&&o(a.filter(s=>s.id!==t))}function D(t,s){o(a.map(i=>i.id===t?{...i,grazingHistory:[...i.grazingHistory||[],{id:Date.now(),date:new Date().toISOString().slice(0,10),...s}],lastGrazed:new Date().toISOString().slice(0,10),currentOccupancy:s.animalCount||0,status:"Active Grazing"}:i))}function G(t){o(a.map(s=>s.id===t?{...s,currentOccupancy:0,status:"Resting",nextGrazingDate:F(s)}:s))}function F(t){if(!t.lastGrazed||!t.targetRestPeriod)return"";const s=new Date(t.lastGrazed);return s.setDate(s.getDate()+(t.targetRestPeriod||35)),s.toISOString().slice(0,10)}function W(t,s){o(a.map(i=>i.id===t?{...i,harvests:[...i.harvests||[],{id:Date.now(),date:new Date().toISOString().slice(0,10),...s}]}:i))}function R(t,s){o(a.map(i=>i.id===t?{...i,improvements:[...i.improvements||[],{id:Date.now(),date:new Date().toISOString().slice(0,10),...s}]}:i))}function A(t,s){o(a.map(i=>i.id===t?{...i,fertilizations:[...i.fertilizations||[],{id:Date.now(),date:new Date().toISOString().slice(0,10),...s}]}:i))}function B(t,s){o(a.map(i=>i.id===t?{...i,pestControl:[...i.pestControl||[],{id:Date.now(),date:new Date().toISOString().slice(0,10),...s}]}:i))}function I(t,s){o(a.map(i=>i.id===t?{...i,soilTests:[...i.soilTests||[],{id:Date.now(),date:new Date().toISOString().slice(0,10),...s}],lastSoilTest:new Date().toISOString().slice(0,10),soilPH:s.pH||i.soilPH}:i))}const N=a.filter(t=>j==="all"||t.status===j),M=a.reduce((t,s)=>t+(s.acreage||0),0),O=a.filter(t=>t.status==="Active Grazing").length,E=a.filter(t=>t.status==="Resting").length,w=a.reduce((t,s)=>{const i=(s.maintenanceSchedule||[]).filter(l=>l.status==="Overdue").length;return t+i},0);return e.jsxs("div",{children:[e.jsxs("div",{className:"health-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"üå± Pasture Management"}),e.jsx("p",{className:"muted",children:"Complete pasture lifecycle from planting to harvest and storage"})]}),e.jsx("button",{className:"tab-btn",onClick:()=>g(!m),children:m?"‚úï Cancel":"+ Add Pasture"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"16px",marginBottom:"24px"},children:[e.jsxs("div",{className:"card",style:{padding:"16px",background:"#f0fdf4"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:"Total Acres"}),e.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#059669"},children:M.toFixed(1)})]}),e.jsxs("div",{className:"card",style:{padding:"16px",background:"#eff6ff"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:"Total Pastures"}),e.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#2563eb"},children:a.length})]}),e.jsxs("div",{className:"card",style:{padding:"16px",background:"#fef3c7"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:"Active Grazing"}),e.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#f59e0b"},children:O})]}),e.jsxs("div",{className:"card",style:{padding:"16px",background:"#ede9fe"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:"Resting"}),e.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#7c3aed"},children:E})]}),w>0&&e.jsxs("div",{className:"card",style:{padding:"16px",background:"#fee2e2"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:"Overdue Tasks"}),e.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#dc2626"},children:w})]})]}),m&&e.jsxs("div",{className:"card",style:{padding:"20px",marginBottom:"24px"},children:[e.jsx("h3",{style:{marginTop:0},children:u?"Edit Pasture":"Add New Pasture"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{children:"Pasture Name *"}),e.jsx("input",{value:n.name,onChange:t=>r({...n,name:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Acreage *"}),e.jsx("input",{type:"number",step:"0.1",value:n.acreage,onChange:t=>r({...n,acreage:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Status"}),e.jsx("select",{value:n.status,onChange:t=>r({...n,status:t.target.value}),children:z.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Primary Forage"}),e.jsx("select",{value:n.forage,onChange:t=>r({...n,forage:t.target.value}),children:L.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Soil Type"}),e.jsx("select",{value:n.soilType,onChange:t=>r({...n,soilType:t.target.value}),children:q.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Soil pH"}),e.jsx("input",{type:"number",step:"0.1",value:n.soilPH,onChange:t=>r({...n,soilPH:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Carrying Capacity (head)"}),e.jsx("input",{type:"number",value:n.carryingCapacity,onChange:t=>r({...n,carryingCapacity:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Fencing Type"}),e.jsx("select",{value:n.fencing,onChange:t=>r({...n,fencing:t.target.value}),children:Q.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Fence Condition"}),e.jsxs("select",{value:n.fenceCondition,onChange:t=>r({...n,fenceCondition:t.target.value}),children:[e.jsx("option",{children:"Excellent"}),e.jsx("option",{children:"Good"}),e.jsx("option",{children:"Fair"}),e.jsx("option",{children:"Poor"}),e.jsx("option",{children:"Needs Repair"})]})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Water Source"}),e.jsx("select",{value:n.waterSource,onChange:t=>r({...n,waterSource:t.target.value}),children:K.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"checkbox",checked:n.shade,onChange:t=>r({...n,shade:t.target.checked})}),"Shade Available"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"checkbox",checked:n.shelter,onChange:t=>r({...n,shelter:t.target.checked})}),"Shelter Available"]})]}),e.jsxs("div",{style:{gridColumn:"span 2"},children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:n.notes,onChange:t=>r({...n,notes:t.target.value}),rows:2})]})]}),e.jsxs("div",{style:{marginTop:"16px",display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:k,children:u?"Save Changes":"Add Pasture"}),e.jsx("button",{onClick:()=>{C(),g(!1)},children:"Cancel"})]})]}),e.jsx("div",{style:{marginBottom:"16px"},children:e.jsxs("select",{value:j,onChange:t=>P(t.target.value),children:[e.jsx("option",{value:"all",children:"All Pastures"}),z.map(t=>e.jsx("option",{value:t,children:t},t))]})}),e.jsx("div",{style:{display:"grid",gap:"16px"},children:N.map(t=>{const s=t.nextGrazingDate?Math.ceil((new Date(t.nextGrazingDate)-new Date)/864e5):null,i=(t.maintenanceSchedule||[]).filter(l=>l.status==="Overdue").length;return e.jsxs("div",{className:"card",style:{padding:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"16px"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("h3",{style:{margin:0},children:t.name}),e.jsx("span",{className:"badge",style:{background:t.status==="Active Grazing"?"#f59e0b":t.status==="Resting"?"#7c3aed":t.status==="Maintenance"?"#dc2626":"#059669"},children:t.status}),i>0&&e.jsxs("span",{className:"badge",style:{background:"#dc2626"},children:["‚ö† ",i," Overdue"]})]}),e.jsxs("div",{className:"muted",style:{marginTop:"4px"},children:[t.id," ‚Ä¢ ",t.acreage," acres ‚Ä¢ ",t.forage]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{className:"tab-btn",onClick:()=>v(t.id),children:"üìã Manage"}),e.jsx("button",{className:"tab-btn",onClick:()=>T(t),children:"‚úèÔ∏è Edit"}),e.jsx("button",{className:"tab-btn",style:{color:"#dc2626"},onClick:()=>H(t.id),children:"üóëÔ∏è"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"12px",fontSize:"14px"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Occupancy"}),e.jsxs("div",{style:{fontWeight:"600"},children:[t.currentOccupancy||0," / ",t.carryingCapacity||0]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Last Grazed"}),e.jsx("div",{style:{fontWeight:"600"},children:t.lastGrazed?new Date(t.lastGrazed).toLocaleDateString():"Never"})]}),s!==null&&e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Next Grazing"}),e.jsx("div",{style:{fontWeight:"600",color:s<=7?"#059669":"#6b7280"},children:s>0?`${s} days`:"Ready"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Soil pH"}),e.jsx("div",{style:{fontWeight:"600"},children:t.soilPH||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Fence"}),e.jsx("div",{style:{fontWeight:"600"},children:t.fenceCondition})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Water"}),e.jsx("div",{style:{fontWeight:"600"},children:t.waterSource})]})]}),t.notes&&e.jsx("div",{style:{marginTop:"12px",padding:"12px",background:"#f9fafb",borderRadius:"6px",fontSize:"13px"},children:t.notes})]},t.id)})}),N.length===0&&e.jsxs("div",{className:"card",style:{padding:"40px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"üå±"}),e.jsx("h3",{children:"No pastures found"}),e.jsx("p",{className:"muted",children:"Add your first pasture to start comprehensive management"})]}),S&&(()=>{const t=a.find(s=>s.id===S);return t?e.jsx("div",{className:"drawer-overlay",onClick:()=>v(null),children:e.jsxs("div",{className:"drawer",onClick:s=>s.stopPropagation(),style:{maxWidth:"1200px",width:"95%"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("h3",{style:{margin:0},children:[t.name," ‚Äî Full Management"]}),e.jsx("button",{onClick:()=>v(null),children:"‚úï Close"})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",flexWrap:"wrap"},children:[e.jsx("button",{className:d==="overview"?"tab-btn active":"tab-btn",onClick:()=>h("overview"),children:"Overview"}),e.jsx("button",{className:d==="grazing"?"tab-btn active":"tab-btn",onClick:()=>h("grazing"),children:"Grazing"}),e.jsx("button",{className:d==="harvests"?"tab-btn active":"tab-btn",onClick:()=>h("harvests"),children:"Harvests"}),e.jsx("button",{className:d==="improvements"?"tab-btn active":"tab-btn",onClick:()=>h("improvements"),children:"Improvements"}),e.jsx("button",{className:d==="fertility"?"tab-btn active":"tab-btn",onClick:()=>h("fertility"),children:"Fertility"}),e.jsx("button",{className:d==="pest"?"tab-btn active":"tab-btn",onClick:()=>h("pest"),children:"Pest Control"}),e.jsx("button",{className:d==="maintenance"?"tab-btn active":"tab-btn",onClick:()=>h("maintenance"),children:"Maintenance"})]}),e.jsxs("div",{style:{maxHeight:"70vh",overflowY:"auto"},children:[d==="overview"&&e.jsxs("div",{style:{display:"grid",gap:"16px"},children:[e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsx("h4",{children:"Pasture Details"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",fontSize:"14px"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Acreage:"})," ",t.acreage]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Primary Forage:"})," ",t.forage]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Planted:"})," ",t.planted?new Date(t.planted).toLocaleDateString():"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Soil Type:"})," ",t.soilType]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Soil pH:"})," ",t.soilPH]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Soil Health:"})," ",t.soilHealth||"Good"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Carrying Capacity:"})," ",t.carryingCapacity," head"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Current Occupancy:"})," ",t.currentOccupancy||0," head"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",t.status]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Fencing:"})," ",t.fencing," (",t.fenceCondition,")"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Water Source:"})," ",t.waterSource]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Shade:"})," ",t.shade?"Yes":"No"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Shelter:"})," ",t.shelter?"Yes":"No"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Biodiversity:"})," ",t.biodiversity]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Weed Pressure:"})," ",t.weedPressure]})]})]}),t.forageSpecies&&t.forageSpecies.length>0&&e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsx("h4",{children:"Forage Species"}),e.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:t.forageSpecies.map(s=>e.jsx("span",{className:"badge",style:{background:"var(--green)"},children:s},s))})]})]}),d==="grazing"&&e.jsxs("div",{style:{display:"grid",gap:"16px"},children:[e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h4",{style:{margin:0},children:"Grazing Management"}),e.jsx("button",{onClick:()=>{const s=parseInt(prompt("Number of animals:")),i=parseInt(prompt("Planned grazing days:")),l=prompt("Notes (optional):")||"";s&&i&&D(t.id,{animalCount:s,days:i,notes:l,entryWeight:0,exitWeight:0})},children:"+ Start Grazing"})]}),t.currentOccupancy>0&&e.jsxs("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"6px",marginBottom:"16px"},children:[e.jsx("strong",{children:"Currently Grazing:"})," ",t.currentOccupancy," animals",e.jsx("button",{onClick:()=>G(t.id),style:{marginLeft:"16px",background:"#059669"},children:"End Grazing"})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Last Grazed:"})," ",t.lastGrazed||"Never"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Target Rest Period:"})," ",t.targetRestPeriod||35," days"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Next Grazing Date:"})," ",t.nextGrazingDate||"Not calculated"]})]}),e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsx("h4",{children:"Grazing History"}),(t.grazingHistory||[]).length===0?e.jsx("div",{className:"muted",children:"No grazing history recorded"}):e.jsx("div",{style:{display:"grid",gap:"12px"},children:(t.grazingHistory||[]).map(s=>e.jsxs("div",{style:{padding:"12px",background:"#f9fafb",borderRadius:"6px"},children:[e.jsx("div",{style:{fontWeight:"600"},children:s.date}),e.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[s.animalCount," animals for ",s.days," days",s.notes&&e.jsx("div",{children:s.notes})]})]},s.id))})]})]}),d==="harvests"&&e.jsx("div",{style:{display:"grid",gap:"16px"},children:e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h4",{style:{margin:0},children:"Hay & Forage Harvests"}),e.jsx("button",{onClick:()=>{const s=prompt("Harvest type (e.g., Hay - First Cut):"),i=parseFloat(prompt("Quantity:")),l=prompt("Unit (bales/tons):")||"bales",c=prompt("Quality (Premium/Good/Fair):")||"Good",p=prompt("Storage location:")||"";s&&i&&W(t.id,{type:s,quantity:i,unit:l,quality:c,stored:p,moisture:0,price:0})},children:"+ Record Harvest"})]}),(t.harvests||[]).length===0?e.jsx("div",{className:"muted",children:"No harvests recorded"}):e.jsx("div",{style:{display:"grid",gap:"12px"},children:(t.harvests||[]).map(s=>e.jsx("div",{style:{padding:"12px",background:"#f9fafb",borderRadius:"6px"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600"},children:s.type}),e.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[s.date," ‚Ä¢ ",s.quantity," ",s.unit," ‚Ä¢ Quality: ",s.quality,s.stored&&e.jsxs("div",{children:["Stored: ",s.stored]})]})]}),s.price>0&&e.jsxs("div",{style:{fontWeight:"600",color:"#059669"},children:["KSH ",(s.quantity*s.price).toLocaleString()]})]})},s.id))})]})}),d==="improvements"&&e.jsx("div",{style:{display:"grid",gap:"16px"},children:e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h4",{style:{margin:0},children:"Pasture Improvements"}),e.jsx("button",{onClick:()=>{const s=prompt(`Improvement type (${Y.join(", ")}):`),i=prompt("Amount/Details:"),l=parseFloat(prompt("Cost (KSH):"))||0,c=prompt("Applied by:")||"",p=prompt("Notes:")||"";s&&R(t.id,{type:s,amount:i,cost:l,appliedBy:c,notes:p})},children:"+ Add Improvement"})]}),(t.improvements||[]).length===0?e.jsx("div",{className:"muted",children:"No improvements recorded"}):e.jsx("div",{style:{display:"grid",gap:"12px"},children:(t.improvements||[]).map(s=>e.jsx("div",{style:{padding:"12px",background:"#f9fafb",borderRadius:"6px"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600"},children:s.type}),e.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[s.date," ‚Ä¢ ",s.amount,s.appliedBy&&` ‚Ä¢ By: ${s.appliedBy}`,s.notes&&e.jsx("div",{children:s.notes})]})]}),e.jsxs("div",{style:{fontWeight:"600",color:"#dc2626"},children:["KSH ",Number(s.cost).toLocaleString()]})]})},s.id))})]})}),d==="fertility"&&e.jsxs("div",{style:{display:"grid",gap:"16px"},children:[e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h4",{style:{margin:0},children:"Soil Tests"}),e.jsx("button",{onClick:()=>{const s=parseFloat(prompt("pH:")),i=prompt("Nitrogen level (Low/Medium/High):"),l=prompt("Phosphorus level:"),c=prompt("Potassium level:"),p=parseFloat(prompt("Organic Matter %:")),f=prompt("Recommendations:")||"";s&&I(t.id,{pH:s,nitrogen:i,phosphorus:l,potassium:c,organicMatter:p,recommendations:f})},children:"+ Add Soil Test"})]}),(t.soilTests||[]).length===0?e.jsx("div",{className:"muted",children:"No soil tests recorded"}):e.jsx("div",{style:{display:"grid",gap:"12px"},children:(t.soilTests||[]).map(s=>e.jsxs("div",{style:{padding:"12px",background:"#f9fafb",borderRadius:"6px"},children:[e.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:s.date}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",fontSize:"14px"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"pH:"})," ",s.pH]}),e.jsxs("div",{children:[e.jsx("strong",{children:"N:"})," ",s.nitrogen]}),e.jsxs("div",{children:[e.jsx("strong",{children:"P:"})," ",s.phosphorus]}),e.jsxs("div",{children:[e.jsx("strong",{children:"K:"})," ",s.potassium]}),e.jsxs("div",{children:[e.jsx("strong",{children:"OM:"})," ",s.organicMatter,"%"]})]}),s.recommendations&&e.jsx("div",{style:{marginTop:"8px",fontSize:"13px",fontStyle:"italic"},children:s.recommendations})]},s.id))})]}),e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h4",{style:{margin:0},children:"Fertilization History"}),e.jsx("button",{onClick:()=>{const s=prompt("Type (Nitrogen/Phosphorus/Potassium/Complete):"),i=prompt("Product name:"),l=prompt("Application rate:"),c=parseFloat(prompt("Cost ($):"))||0,p=prompt("Applied by:")||"";s&&i&&A(t.id,{type:s,product:i,rate:l,cost:c,appliedBy:p,weather:""})},children:"+ Add Application"})]}),(t.fertilizations||[]).length===0?e.jsx("div",{className:"muted",children:"No fertilizations recorded"}):e.jsx("div",{style:{display:"grid",gap:"12px"},children:(t.fertilizations||[]).map(s=>e.jsx("div",{style:{padding:"12px",background:"#f9fafb",borderRadius:"6px"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:"600"},children:[s.type," - ",s.product]}),e.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:["Rate: ",s.rate,s.appliedBy&&` ‚Ä¢ By: ${s.appliedBy}`]})]}),e.jsxs("div",{style:{fontWeight:"600",color:"#dc2626"},children:["KSH ",Number(s.cost).toLocaleString()]})]})},s.id))})]})]}),d==="pest"&&e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h4",{style:{margin:0},children:"Weed & Pest Control"}),e.jsx("button",{onClick:()=>{const s=prompt("Pest/weed target:"),i=prompt("Product used:"),l=prompt("Application rate:"),c=parseFloat(prompt("Cost (KSH):"))||0,p=prompt("Effectiveness (Poor/Fair/Good/Excellent):")||"Good",f=prompt("Applied by:")||"";s&&i&&B(t.id,{target:s,product:i,rate:l,cost:c,effectiveness:p,appliedBy:f})},children:"+ Add Treatment"})]}),(t.pestControl||[]).length===0?e.jsx("div",{className:"muted",children:"No pest control recorded"}):e.jsx("div",{style:{display:"grid",gap:"12px"},children:(t.pestControl||[]).map(s=>e.jsx("div",{style:{padding:"12px",background:"#f9fafb",borderRadius:"6px"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:"600"},children:["Target: ",s.target]}),e.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[s.date," ‚Ä¢ ",s.product," @ ",s.rate,e.jsxs("div",{children:["Effectiveness: ",s.effectiveness]}),s.appliedBy&&e.jsxs("div",{children:["By: ",s.appliedBy]})]})]}),e.jsxs("div",{style:{fontWeight:"600",color:"#dc2626"},children:["KSH ",Number(s.cost).toLocaleString()]})]})},s.id))})]}),d==="maintenance"&&e.jsxs("div",{className:"card",style:{padding:"16px"},children:[e.jsx("h4",{children:"Maintenance Schedule"}),(t.maintenanceSchedule||[]).length===0?e.jsx("div",{className:"muted",children:"No maintenance schedule set up"}):e.jsx("div",{style:{display:"grid",gap:"12px"},children:(t.maintenanceSchedule||[]).map(s=>e.jsx("div",{style:{padding:"12px",background:s.status==="Overdue"?"#fee2e2":"#f9fafb",borderRadius:"6px",borderLeft:s.status==="Overdue"?"4px solid #dc2626":"none"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600"},children:s.task}),e.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:["Frequency: ",s.frequency,e.jsxs("div",{children:["Last Done: ",s.lastDone||"Never"]}),e.jsxs("div",{children:["Next Due: ",s.nextDue]})]})]}),e.jsx("span",{className:"badge",style:{background:s.status==="Overdue"?"#dc2626":s.status==="Due Soon"?"#f59e0b":"#059669"},children:s.status})]})},s.id))})]})]})]})}):null})()]})}export{te as default};
